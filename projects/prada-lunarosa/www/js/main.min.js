$(function(){function e(){console.log("showTimeline"),TweenMax.to(l,.5,{left:100,delay:.25,opacity:1,ease:Circ.easeInOut})}function o(){TweenMax.to(l,.5,{left:-500,opacity:0,ease:Circ.easeInOut})}function n(){TweenMax.to(r,.5,{opacity:0,top:-50,ease:Circ.easeOut})}function t(){TweenMax.to(r,.5,{opacity:1,top:0,ease:Circ.easeOut})}console.log("luna rosa ready");var a=$(".bg-img"),l=$(".timeline"),r=$(".panel.intro"),c=new ScrollMagic.Controller;c=new ScrollMagic.Controller({addIndicators:!0}),new ScrollMagic.Scene({triggerElement:".panel.morning",duration:"100%"}).offset(-250).triggerHook("onLeave").addTo(c).on("enter",function(o){var t=o.target.controller().info("scrollDirection");TweenMax.to(a,.5,{opacity:.5,ease:Circ.easeOut}),"FORWARD"===t&&(e(),n()),console.log(t+" ENTER MORNING")}).on("leave",function(e){"REVERSE"===e.target.controller().info("scrollDirection")&&(console.log("LEAVE MORNING"),o(),t()),TweenMax.to(a,.5,{opacity:1,ease:Circ.easeOut})}),new ScrollMagic.Scene({triggerElement:".panel.afternoon",duration:"100%"}).offset(-250).triggerHook("onLeave").addTo(c).on("enter",function(){console.log("ENTER AFTERNOON"),TweenMax.to(a,.5,{opacity:.75})}).on("leave",function(e){console.log("LEAVE AFTERNOON")}),new ScrollMagic.Scene({triggerElement:".panel.night",duration:"100%"}).offset(-250).triggerHook("onLeave").addTo(c).on("enter",function(o){var n=o.target.controller().info("scrollDirection");console.log(n+" ENTER NIGHT"),TweenMax.to(a,.5,{opacity:.9}),"REVERSE"===n&&e()}).on("leave",function(e){console.log("LEAVE NIGHT")}),new ScrollMagic.Scene({triggerElement:".panel.endframe",duration:"100%"}).offset(-250).triggerHook("onLeave").addTo(c).on("enter",function(){console.log("ENTER ENDFRAME"),TweenMax.to(a,.5,{opacity:1}),o()}).on("leave",function(e){console.log("LEAVE ENDFRAME")})});