$(function(){function e(){console.log("showTimeline"),TweenMax.to(l,.5,{left:"8%",delay:.25,opacity:1,ease:Circ.easeInOut})}function t(){console.log("hideTimeline"),TweenMax.killTweensOf(l),TweenMax.to(l,.5,{left:-500,opacity:0,ease:Circ.easeInOut})}function a(){TweenMax.to(c,.5,{opacity:0,top:-50,ease:Circ.easeOut})}function o(){TweenMax.to(c,.5,{opacity:1,top:0,ease:Circ.easeOut})}function n(e){switch(console.log("setTimeline: "+e),TweenMax.killTweensOf($(".dot")),TweenMax.killTweensOf(r),TweenMax.killTweensOf(g),TweenMax.killTweensOf($timelineTagNight),e){case"morning":TweenMax.to(s,.5,{height:"33%",delay:.85,ease:Circ.easeOut}),TweenMax.to(r,.25,{opacity:1,left:"25%",delay:1.5,ease:Circ.easeOut}),TweenMax.to(g,.25,{opacity:0,left:"0%",ease:Circ.easeOut}),TweenMax.to($timelineTagNight,.25,{opacity:0,left:"0%",ease:Circ.easeOut}),$(".dot.one").addClass("set"),$(".dot.three").removeClass("set"),TweenMax.set(".dot.two",{className:"+=active",delay:1.25}),TweenMax.set(".dot.three",{className:"-=active"}),TweenMax.set(".dot.four",{className:"-=active"});break;case"afternoon":TweenMax.to(s,.5,{height:"66%",delay:.85,ease:Circ.easeOut}),TweenMax.to(r,.25,{opacity:0,left:"0%",ease:Circ.easeOut}),TweenMax.to(g,.25,{opacity:1,left:"25%",delay:1.5,ease:Circ.easeOut}),TweenMax.to($timelineTagNight,.25,{opacity:0,left:"0%",ease:Circ.easeOut}),$(".dot.two").addClass("set"),$(".dot.two").removeClass("active"),TweenMax.set(".dot.three",{className:"+=active",delay:1.25}),TweenMax.set(".dot.four",{className:"-=active"});break;case"night":TweenMax.to(s,.5,{height:"99%",delay:.85,ease:Circ.easeOut}),TweenMax.to(r,.25,{opacity:0,left:"0%",ease:Circ.easeOut}),TweenMax.to(g,.25,{opacity:0,left:"0%",ease:Circ.easeOut}),TweenMax.to($timelineTagNight,.25,{opacity:1,left:"25%",delay:1.5,ease:Circ.easeOut}),$(".dot.three").addClass("set"),$(".dot.two").removeClass("active"),TweenMax.set(".dot.three",{className:"-=active"}),TweenMax.set(".dot.four",{className:"+=active",delay:1.25})}}console.log("luna rosa ready"),console.log("fd1");var i=$(".bg-img"),l=$(".timeline"),c=$(".panel.intro"),s=$(".line-active"),r=$(".tag-morning"),g=$(".tag-afternoon");$timelineTagNight=$(".tag-night"),$endframeView=$(".panel.endframe");var T=new ScrollMagic.Controller;$(".grid-item > a").click(function(e){var t=$(this).attr("data-link");console.log("grid item clicked"+t),TweenMax.to(window,1.5,{scrollTo:"#panel-"+t}),e.preventDefault()}),T=new ScrollMagic.Controller({addIndicators:!0}),new ScrollMagic.Scene({triggerElement:".panel.morning",duration:"100%"}).offset(-250).triggerHook("onLeave").addTo(T).on("enter",function(t){var o=t.target.controller().info("scrollDirection");TweenMax.to(i,.5,{opacity:.5,ease:Circ.easeOut}),"FORWARD"===o&&(e(),a()),n("morning"),console.log(o+" ENTER MORNING")}).on("leave",function(e){var a=e.target.controller().info("scrollDirection");console.log("MORNING SCROLL DIRECTION: "+a),"REVERSE"===a&&(console.log("LEAVE MORNING"),t(),o()),TweenMax.to(i,.5,{opacity:1,ease:Circ.easeOut})}),new ScrollMagic.Scene({triggerElement:".panel.afternoon",duration:"100%"}).offset(-250).triggerHook("onLeave").addTo(T).on("enter",function(){console.log("ENTER AFTERNOON"),TweenMax.to(i,.5,{opacity:.75}),n("afternoon")}).on("leave",function(e){console.log("LEAVE AFTERNOON")}),new ScrollMagic.Scene({triggerElement:".panel.night",duration:"100%"}).offset(-250).triggerHook("onLeave").addTo(T).on("enter",function(t){var a=t.target.controller().info("scrollDirection");console.log(a+" ENTER NIGHT"),n("night"),TweenMax.to(i,.5,{opacity:.9}),"REVERSE"===a&&e()}).on("leave",function(e){console.log("LEAVE NIGHT")}),new ScrollMagic.Scene({triggerElement:".panel.endframe",duration:"100%"}).offset(-250).triggerHook("onLeave").addTo(T).on("enter",function(){console.log("ENTER ENDFRAME"),TweenMax.to(i,.5,{opacity:1}),TweenMax.to($endframeView,.5,{opacity:1,ease:Cubic.easeOut}),t()}).on("leave",function(e){TweenMax.to($endframeView,.5,{opacity:0,ease:Cubic.easeOut}),console.log("LEAVE ENDFRAME")})});